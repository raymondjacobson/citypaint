<!DOCTYPE html>
<!-- /ht Paul Irish - http://front.ie/j5OMXi -->
<!--[if lt IE 7 ]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html class="no-js" lang="en" ng-app='sentenceSoupApp'> <!--<![endif]-->
<head>
<meta charset="utf-8">
<title>{{title}}</title>
<meta name="description" content="">
<meta name="author" content="">

<!-- /ht Andy Clarke - http://front.ie/lkCwyf -->
<meta http-equiv="cleartype" content="on">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Custom fonts -->
<link href='http://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fauna+One' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

<link rel="stylesheet" href="{{ url_for('static', filename='styles/main.css' ) }}" media="all">

<script type='text/javascript' src="{{ url_for('static', filename='js/angular.min.js' )}}"></script>
<script type='text/javascript' src="{{ url_for('static', filename='js/angular-route.min.js' )}}"></script>
<script src="https://cdn.firebase.com/js/client/1.0.21/firebase.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="https://cdn.firebase.com/libs/angularfire/0.8.2/angularfire.min.js"></script>
  
</head>
<body>
  <div id="container">
    <h1 class='purple'>Sentence Soup</h1>
    <h2 class='green'>Text me @ 301-467-2873</h2>
    <div id="page">
      <div ng-view></div>
        <script type="text/javascript">
            var width = document.getElementById('page').width;
            var height = document.getElementById('page').height;

            d3.select("#page").append("svg")
              .attr("width", width)
              .attr("height", height)
              .attr("id", "area");
        </script>
        <script type="text/javascript">
            var block_length = 5;
            // makeBlock(15, 15, 5);

            var list_of_coordinates = [
              {"x": 2, "y": 0},
              {"x": 1, "y": 1},
              {"x": 2, "y": 1},
              {"x": 3, "y": 1},
              {"x": 0, "y": 2},
              {"x": 1, "y": 2},
              {"x": 2, "y": 2},
              {"x": 3, "y": 2},
              {"x": 4, "y": 2}
            ];

            makeShape(list_of_coordinates);

            function makeShape(list_of_coordinates) {
              w = document.getElementById('page').width;
              h = document.getElementById('page').height;
              console.log(w + ", " + h);

              var start_x = Math.random() * document.getElementById("area").width;
              var start_y = Math.random() * document.getElementById("area").height;
              console.log(start_x + ", " + start_y);
              for (var i = 0; i < list_of_coordinates.length; i++) {
                var x = list_of_coordinates[i].x;
                var y = list_of_coordinates[i].y;
                console.log(x + ", " + y);
                if (start_x + block_length*(x+1) > document.getElementById('area').width) {
                  x = document.getElementById('area').width - block_length;
                } else {
                  x = start_x + block_length*x;
                }
                if (start_y + block_length*(y+1) > document.getElementById('area').height) {
                  y = document.getElementById('area').height - block_length;
                } else {
                  y = start_y + block_length*y;
                }
                makeBlock(x, y, block_length);
              }
            }

            function makeBlock(x, y, length) {
              d3.select("#area")
                .append("rect")
                .attr("x", x)
                .attr("y", y)
                .attr("width", length)
                .attr("height", length)
            }
        </script>
    </div>
  </div>
  <footer>
    <p>Designed with <i class="red fa fa-heart"></i> at MHacks 2014</p>
    <p>@raymondjacobson @modaum @mengsquared</p>
  </footer>
  <script type='text/javascript' src="{{ url_for('static', filename='js/angles.js' )}}"></script>
</body>
</html>